{
  "hash": "262c741faf1fefdb795c95a41cf49329",
  "result": {
    "markdown": "---\ntitle: \"Students Performance Analysis\"\nformat: html\neditor: visual\nauthor: Matthew-Pierre Rogers\ncategories:\n - R\n - Data Analysis\ndate: 09/06/2023\ntitle-block-banner: false\n---\n\n\n# Looking at Student Performance\n\nIt's been a while since I've sat down to practice using R and looking through data. So this is a chance for me to shake the rust off. I'm trying to write this summary as I go through the process to document my thoughts.\n\nI started heading over to [Kaggle](https://www.kaggle.com/datasets/spscientist/students-performance-in-exams) and looked for any dataset I found interesting, I shortlisted a few and this one made the cut. I'll get through the other datasets at some point.\n\nThere are a few reason I chose this set in particular. It's availability was one for sure. But I'm also a recent graduate of the [University of the West Indies](https://www.mona.uwi.edu/). In a way, I still relate to being a student. Beyond that I think education is super important, especially for a people like Jamaica to improve and set themselves up. All this means I chose to take a crack at this dataset to get back into the groove.\n\nWithout further ado, let my load my trusty packages and get started.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(plotly)\n```\n:::\n\n\n## Bringing in the Data\n\nFirst I'll bring in the data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset<-read.csv(\"StudentsPerformance.csv\")\nglimpse(dataset)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 1,000\nColumns: 8\n$ gender                      <chr> \"female\", \"female\", \"female\", \"male\", \"mal…\n$ race.ethnicity              <chr> \"group B\", \"group C\", \"group B\", \"group A\"…\n$ parental.level.of.education <chr> \"bachelor's degree\", \"some college\", \"mast…\n$ lunch                       <chr> \"standard\", \"standard\", \"standard\", \"free/…\n$ test.preparation.course     <chr> \"none\", \"completed\", \"none\", \"none\", \"none…\n$ math.score                  <int> 72, 69, 90, 47, 76, 71, 88, 40, 64, 38, 58…\n$ reading.score               <int> 72, 90, 95, 57, 78, 83, 95, 43, 64, 60, 54…\n$ writing.score               <int> 74, 88, 93, 44, 75, 78, 92, 39, 67, 50, 52…\n```\n:::\n:::\n\n\nAlrighty. So we have 1000 rows, an OK size. We have a field for race, parental education level, lunch, whether they took a test preparation course, and then their math, reading and writing scores. I notice they have placeholders for the race field, likely to reduce any bias. It's a good move in my opinion.\n\nA few questions jump out at me:\n\n-   Do the different genders score differently?\n-   Do different Races score differently?\n-   Does taking the test prep course make a difference?\n-   Are Reading and Writing Scores more closely related than Math?\n\nOf these, I'm actually most curious about the last one, so let me work through them all.\n\n## Do the Genders Score Differently\n\nThere should be a couple ways to do this. We can carry out a 2 sample t-test.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset<- dataset |> mutate( mean.score = (reading.score + writing.score + math.score)/3)\ngender.t.test<-t.test(mean.score ~ gender, data = dataset, var.equal = FALSE)\nprint(gender.t.test)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tWelch Two Sample t-test\n\ndata:  mean.score by gender\nt = 4.1789, df = 997.85, p-value = 3.186e-05\nalternative hypothesis: true difference in means between group female and group male is not equal to 0\n95 percent confidence interval:\n 1.979515 5.484516\nsample estimates:\nmean in group female   mean in group male \n            69.56950             65.83748 \n```\n:::\n:::\n\n\nAccording to this, the female mean score is higher than the male mean score. The difference is statistically significant.\n\nI could also do an Analysis of Variance (ANOVA)\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngender.anova<-aov(mean.score ~ gender, data = dataset)\nprint(summary(gender.anova))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n             Df Sum Sq Mean Sq F value   Pr(>F)    \ngender        1   3477    3477   17.39 3.31e-05 ***\nResiduals   998 199591     200                     \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n:::\n\n\nBoth agree, there a statistically significant difference between the mean score of the male and female students. The p-value, or chance that these results are due to chance, is **WAY** less than 5%. At this sample size, I'd put some stock behind it.\n\nIn all honesty, I'd love to go through by Math, Reading and Writing to see if one particular subject has a bigger impact than the others.\n\n## Does Race make a difference?\n\nThe next one is a touchy topic. Thankfully the racial groups are designated with identifiers. I haven't checked for the Key at the time of writing. A similar test can be be done. in this case an ANOVA is used to test the impact of race.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrace.anova<-aov(mean.score ~ race.ethnicity, data = dataset)\nprint(summary(race.anova))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                Df Sum Sq Mean Sq F value   Pr(>F)    \nrace.ethnicity   4   7164  1790.9   9.096 3.23e-07 ***\nResiduals      995 195904   196.9                     \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n:::\n\n\nOnce again the results are statistically significant. Now I could do something boring and bring up the mean mean score for each group like so:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nd<-dataset |> group_by(race.ethnicity) |> summarise(race.mean = mean(mean.score))\nprint(d)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 × 2\n  race.ethnicity race.mean\n  <chr>              <dbl>\n1 group A             63.0\n2 group B             65.5\n3 group C             67.1\n4 group D             69.2\n5 group E             72.8\n```\n:::\n:::\n\n\nBut I find it may be better to do this graphically. There's different ways to do this, but box plots are a good way to go. This plot shows the means of each racial group, but also an idea of how widely spread the scores are for each. For example, it lets you know that Race D has the second highest mean test score, but also that scores in this race are the closest together, with less variation/spread.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Student-Performance-Document_files/figure-html/Plotting Race Differences in Mean Score-1.png){width=672}\n:::\n:::\n\n\n## Test Prep Course\n\nThe test prep course follows a similar analysis. The reason being that, for the purpose of this exercise, race, gender and whether the student did a test prep course are categorical variables. Students neatly fall into discrete groups.\n\nIn fact lets approach this one a little differently. Let's look at it graphically first. A lot of times that's better for intuition.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntest.score.scatter<-dataset |> ggplot(mapping = aes(x = test.preparation.course, y = mean.score, fill = test.preparation.course))+\n  geom_violin(alpha= 0.8, show.legend = FALSE)+\n  stat_summary(fun = \"mean\", geom = \"crossbar\", color = \"black\", width = 0.7)+\n  labs(title = \"Mean test scores of students\")+\n  xlab(\"Did they complete the test prep course?\")+\n  ylab(\"Mean Test Score\")\ntest.score.scatter\n```\n\n::: {.cell-output-display}\n![](Student-Performance-Document_files/figure-html/Test Prep Course Violin Plot-1.png){width=672}\n:::\n:::\n\n\nFrom looking, you can already get a sense that those who did the prep course generally did better. More of those students had higher scores. The lower performing students of the group also performed better than the low performers who didn't do the course. If you are less comfortable eyeballing it (and checking is always good), we can calculate the p-value with an ANOVA as above.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntest.prep.aov<-aov(mean.score~test.preparation.course, data = dataset)\nprint(summary(test.prep.aov))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                         Df Sum Sq Mean Sq F value Pr(>F)    \ntest.preparation.course   1  13382   13382   70.41 <2e-16 ***\nResiduals               998 189686     190                   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n:::\n:::\n\n\nIn my head, I'm curious to know whether this test prep course is paid for or if there are other entrance requirements. At any rate: the difference is once again statistically significant.\n\n## Reading and Writing\n\nNow its time for the final question. This is actually the one I'm most curious about. Are reading and writing scores more closely related than math? To me, reading and writing feel like two sides of a coin. Math seems a little further away, so I'll see what the data says.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggcorrplot)\ntest.scores<-dataset[,c(6:8)]\ncorr.matrix<-cor(test.scores)\nprint(corr.matrix)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n              math.score reading.score writing.score\nmath.score     1.0000000     0.8175797     0.8026420\nreading.score  0.8175797     1.0000000     0.9545981\nwriting.score  0.8026420     0.9545981     1.0000000\n```\n:::\n:::\n\n\nBut everyone loves graphs. So we'll visualise it to tell a better story.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncplot<-ggcorrplot(corr.matrix, method = \"square\", type = \"lower\", lab = TRUE, title = \"Correlation matrix of student test scores\")\ncplot\n```\n\n::: {.cell-output-display}\n![](Student-Performance-Document_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\nThe \"redness\" indicates closer relationships, as do the higher numbers. To an extent I was right. All the scores are strongly correlated. In other words students who scored one way in say, math would tend to score similarly in reading and writing. However, reading and writing were more strongly correlated than either was to math. Which is about what I assumed.\n\n## Final Thoughts\n\nThis was a good exercise to brush off the dust as far as getting back into my groove with R and analysing data. I genuinely think being able to understand statistics and data is important. While there are people who make this their whole career, I don't think I'm there yet.\n\nI do think, career applications aside, I can get more use out of this. As a former lecturer of mine once repeated, \"There's lies, damn lies, and statistics\" and a little understanding should help peel back some of those lies. For example, I could have hid a lot in mean score, especially if it turned out the scores weren't highly correlated. There are still more questions that these questions unearthed.\n\nBut even so, I think fostering a mindset of having questions, and knowing how to start finding the answers is important. Lets hope I stick to learning and improving that aspect of my mind and skillset.\n",
    "supporting": [
      "Student-Performance-Document_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}